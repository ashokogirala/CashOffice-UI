<!-- Manual Adjustment Voucher - Allocation Module -->

<div class="animated fadeIn">

<!-- Record for Posting v2 Dynamic -->
  <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            <i class="fa fa-align-justify"></i> Record for Posting
          </div>
     
          <div class="card-body">
            <div class="row">
              <div class="col-lg-12">
  
                <div class="table-responsive">
                <table class="table table-bordered table-hover">
                  <thead class="thead-light">
                    <tr>
                      <th>ID</th>
                      <th>POLICY CODE</th>
                      <th>TRANSACTION TYPE</th>
                      <th>POSTING STATUS</th>
                    </tr>
                  </thead>
                  
                  <tbody>
                    <!-- loop for listing the adjustments --> 
                    <tr *ngFor="let adjustment of adjustments; let i = index" >
                      <td>
                          <div class="form-check">
                          <input class="form-check-input" type="radio" name="radios" id="radio2"
                          (click)="onSelect(adjustment, i)">
                          <label class="form-check-label" for="radio2">
                            {{adjustment.mnAdjID}}
                          </label>
                        </div> 
                      </td>
                      <td>{{adjustment.policyCode}}</td>
                      <td>{{adjustment.transType}}</td>
                      <td>{{adjustment.postingStatus}}</td>
                    </tr>
                    
                  </tbody>
  
                </table>
                </div>
  
              </div>
  
            </div>
  
        </div>
      </div>
    </div>

  </div>

<!-- New Transaction -->
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i> New Transaction
          <span class="text float-right">{{ today | date : "d-MMM-y" }}</span>
        </div>
   
        <div class="card-body"> <!-- BEGIN: Form Content-->
          <form [formGroup] = "newTransInput">

            <div class="form-row">
              <!-- 1st Column -->
              <div class="col-lg-6">
                
                <div class = "form-group row">
                  <label class="col-md-4 col-form-label" >POLICY CODE</label>
                  <div class = "col-md-6">
                    <input class="form-control" formControlName = "policyCode"
                      value={{item.policyCode}}>
                  </div>
                </div>
               
                <div class = "form-group row">
                  <label class="col-md-4 col-form-label" >AMOUNT</label>
                  <div class = "col-md-6">
                    <input class="form-control" formControlName = "amount" 
                      value={{item.amount}}>
                  </div>
                </div>

                <div class="form-group row">
                   <label class="col-md-4 col-form-label">PERIOD</label>
                  <div class = "col-md-6">
                    <input class="form-control" id="date-input" type="date" 
                     formControlName = "period" name="date-input" value = {{item.period}} required>
                   </div>
                </div>

                <!-- Transaction Type -->
                <div class="form-group row">
                  <label class="col-md-4 col-form-label">TRANSACTION TYPE</label>
                  <div class="col-md-6">

<div class="col-md-9 col-form-label">
    <div class="form-check">
      <input class="form-check-input" type="radio" name="transType" id="radio1" formControlName = "transType" value="allocation" [checked]="item.transType=='Premium Allocation'">
      <label class="form-check-label" for="radio1">
        Premium Allocation
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="transType" id="radio2" formControlName = "transType" value="reverse" [checked]="item.transType=='Reverse Offset'">
      <label class="form-check-label" for="radio2">
        Reverse Offset
      </label>
    </div>
    
  </div>
                  </div>
                </div>

                <div class = "form-group row">
                  <label class="col-md-4 col-form-label" >COMMENTS</label>
                  <div class = "col-md-6">
                    <textarea class="form-control" rows="2" formControlName = "comments" value={{item.comments}}></textarea>
                  </div>
                </div>

              </div>
              
              <!-- 2nd Column -->
              <div class="col-lg-6">  
            
                <div class = "form-group row">
                  <label class="col-md-4 col-form-label">BANK STATEMENT NUMBER (BOBI)</label>
                    <div class = "col-md-6">
                      <input class="form-control" formControlName = "bnkStmtNo" value={{item.bobiRefNo}}>
                    </div>
                </div>
                      
              </div>

            </div>

            <hr>
            
            <!-- form control buttons here:  -->
            <div class="row text-center btn-toolbar">
                <div class= "col-lg-12">
    
                    <div class="btn-group mr-2">
                        <button type="button" class="btn btn-md btn-primary" (click)="save()">Save</button>
                      </div>

                      <div class="btn-group mr-2">
                          <button type="button" class="btn btn-md btn-primary" (click)="post()">Post</button>
                        </div>

                        <div class="btn-group mr-2">
                            <button type="button" class="btn btn-md btn-primary" (click)="clear()">Clear</button>
                          </div>

                          <div class="btn-group mr-2">
                              <button type="button" class="btn btn-md btn-primary" (click)="exit()">Exit</button>
                            </div>
                </div>
              </div>

          </form>
        </div>

      </div>
    </div>
  </div>

</div> 